{"version":3,"sources":["images/logo.svg","images/burger.svg","images/close.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/pencil.png","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/PopupConfirmationDelete.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","images/success.svg","images/error.svg","components/InfoTooltip.js","components/App.js","index.js"],"names":["Header","isLoggedIn","isEmail","onExit","React","useState","isOpenBurger","setIsOpenBurger","handleClickExit","className","onClick","src","logo","alt","window","location","pathname","to","close","burger","state","CurrentUserContext","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","onCardDeleteClick","link","name","e","onCardClick","onCardLike","length","Main","onEditAvatar","avatar","about","id","onEditProfile","onAddPlace","cards","map","item","onCardDelete","Footer","ImagePopup","useEffect","handleClosePopupOnEsc","code","onClose","document","addEventListener","removeEventListener","target","currentTarget","api","options","this","_options","res","ok","json","Promise","reject","status","fetch","baseUrl","credentials","headers","then","_answerForServer","method","body","JSON","stringify","nameCard","linkCard","methodParametr","userEmail","userPassword","authUrl","password","email","PopupWithForm","isOpen","title","onSubmit","children","EditProfilePopup","setName","setAbout","preventDefault","onUpdateUser","placeholder","minLength","maxLength","value","onChange","required","EditAvatarPopup","setAvatar","onUpdateAvatar","AddPlacePopup","setNameCard","setLinkCard","PopupConfirmationDelete","onYes","withRouter","onRegister","setEmail","setPassword","onLogin","ProtectedRoute","Component","component","loggedIn","InfoTooltip","isSuccess","success","error","setLoggedIn","isConfirmationDelete","setIsConfirmationDelete","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isMessagePopupOpen","setIsMessagePopupOpen","setIsSuccess","setCurrentUser","selectedCard","setSelectedCard","selectedCardForDelete","setSelectedCardForDelete","setCards","setIsEmail","history","useHistory","checkToken","push","catch","err","console","log","getProfileInfo","getInitialCards","closeAllPopups","Provider","logout","path","elem","changeLikeCardStatus","newCard","register","login","message","exact","postProfileInfo","postProfileAvatar","postCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.98b15e06.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","export default __webpack_public_path__ + \"static/media/burger.a46d5c1c.svg\";","export default __webpack_public_path__ + \"static/media/close.87e81ed6.svg\";","import React from \"react\";\r\nimport logo from \"./../images/logo.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport burger from \"./../images/burger.svg\";\r\nimport close from \"./../images/close.svg\";\r\n\r\nfunction Header({ isLoggedIn, isEmail, onExit }) {\r\n    const [isOpenBurger, setIsOpenBurger] = React.useState(false);\r\n\r\n    const handleClickExit = () => {\r\n        setIsOpenBurger(false);\r\n        onExit();\r\n    };\r\n\r\n    return (\r\n        <>     \r\n            <ul className={`header__burger-auth ${isOpenBurger && \"header__auth_open\"}`}>\r\n                <li className=\"auth__link auth__link_fontsize\">{isEmail}</li>\r\n                <li className=\"auth__link auth__link_fontsize auth__link_color auth__link_bm18\" onClick={handleClickExit}>Выйти</li>\r\n            </ul>       \r\n            <header className=\"header\">\r\n\r\n                <img src={logo} alt=\"Лого\" className=\"header__logo\" />\r\n                {isLoggedIn ? (\r\n                    <ul className={`header__auth header__auth_none`}>\r\n                        <li className=\"auth__link auth__link_fontsize\">{isEmail}</li>\r\n                        <li className=\"auth__link auth__link_fontsize auth__link_color\" onClick={handleClickExit}>\r\n                            Выйти\r\n                        </li>\r\n                    </ul>\r\n                ) : (\r\n                    <ul className={`header__auth ${isLoggedIn && \"header__auth_none\"}`}>\r\n                        {window.location.pathname === \"/sign-up\" ? (\r\n                            <Link to=\"sign-in\" className=\"auth__link auth__link_fontsize\">\r\n                                Войти\r\n                            </Link>\r\n                        ) : (\r\n                            <Link to=\"sign-up\" className=\"auth__link auth__link_fontsize\">\r\n                                Регистрация\r\n                            </Link>\r\n                        )}\r\n                    </ul>\r\n                )}\r\n                {isLoggedIn && \r\n                    <img src={isOpenBurger ? close : burger} alt=\"Бургер\" className=\"header__burger\" onClick={() => setIsOpenBurger(state => !state)}/>\r\n                }\r\n            </header>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner === currentUser._id;\r\n    const isLiked = props.card.likes.some(i => i === currentUser._id);\r\n\r\n    const cardDeleteButtonClassName = (\r\n        `element__delete-button ${isOwn ? 'element__delete-button_visible' : 'element__delete-button_hidden'}`\r\n    ); \r\n\r\n    const cardLikeButtonClassName = (\r\n        `element__like-button ${isLiked && 'element__like-button_active'}`\r\n    );\r\n    \r\n    const handleDeleteClick = () => {\r\n        props.onCardDeleteClick(props.card)\r\n    }\r\n\r\n    const handleClick = (e) => {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    const handleLikeClick = () => {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <li className=\"element\">\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n            <img src={props.card.link} className=\"element__image\" alt={props.card.name} onClick={handleClick} />\r\n            <div className=\"element__down-sector\">\r\n                <h2 className=\"element__title\">{props.card.name}</h2>\r\n                <div className=\"element__like\">\r\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                    <p className=\"element__like-count\">{props.card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport pencil from \"./../images/pencil.png\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"main\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-container\" onClick={props.onEditAvatar}>\r\n                    <img src={currentUser && currentUser.avatar} alt=\"Аватарка\" className=\"profile__avatar\" />\r\n                    <div className=\"profile__avatar-overlay\">\r\n                        <img src={pencil} alt=\"Иконка\" className=\"profile__avatar-icon\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__title profile__title-text\">{currentUser && currentUser.name}</h1>\r\n                    <p className=\"profile__subtitle\">{currentUser && currentUser.about}</p>\r\n                    <button type=\"button\" className=\"profile__edit profile__edit-button\" id=\"ed2it\" onClick={props.onEditProfile}></button>\r\n                </div>\r\n                <button type=\"button\" className=\"profile__add-button\" id=\"addButton\" onClick={props.onAddPlace}></button>\r\n            </section>\r\n            <section className=\"gallery\">\r\n                <ul className=\"elements\">\r\n                    {props.cards.map((item) => (\r\n                        <Card key={item._id} onCardClick={props.onCardClick} card={item} onCardDeleteClick={props.onCardDelete} onCardLike={props.onCardLike} />\r\n                    ))}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB9SURBVHgB7dbBCYAwDAXQ4ASO4CiO4AgdwQ10BDfqKBklpjRCKIiXfLzkQyi95PHppUSAiMiiU9tJqBjC0sMQbEAEgr0gTypF5AOJaZRIIokkksifiEEFjjjsRDY5/DKHxTaxhTxgezSyQt/CMuls7j7rFEJE+kfvas0ImBsR7skYWCY75QAAAABJRU5ErkJggg==\"","function Footer() {\r\n    return (\r\n        <>\r\n            <footer className=\"footer\">\r\n                <p className=\"footer__text\">&copy; 2021 Mesto Russia</p>\r\n            </footer>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n    const handlePopupClose = (e) => {\r\n        if (e.target === e.currentTarget) props.onClose();\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        const handleClosePopupOnEsc = (e) => {\r\n            if (e.code === \"Escape\") props.onClose();\r\n        };\r\n        if (props.card) {\r\n            document.addEventListener(\"keyup\", handleClosePopupOnEsc);\r\n        }\r\n        return () => document.removeEventListener(\"keyup\", handleClosePopupOnEsc);\r\n    });\r\n\r\n    return (\r\n        <div className={`popup popup_gallery ${props.card && \"popup_opened\"}`} onClick={handlePopupClose}>\r\n            <div className=\"full-image\">\r\n                <button type=\"button\" className=\"popup__button-close\" onClick={props.onClose}></button>\r\n                <figure className=\"full-image__container\">\r\n                    <img src={props.card?.link} alt={props.card?.name} className=\"full-image__image\" />\r\n                    <figcaption className=\"full-image__caption\">{props.card?.name}</figcaption>\r\n                </figure>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n    constructor(options) {\r\n        this._options = options;\r\n    }\r\n\r\n    _answerForServer(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    getProfileInfo() {\r\n        return fetch(`${this._options.baseUrl}/users/me`, {\r\n            credentials:'include',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    postProfileInfo(name, about) {\r\n        return fetch(`${this._options.baseUrl}/users/me`, {\r\n            method: \"PATCH\",\r\n            credentials:'include',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about,\r\n            }),\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    postProfileAvatar(avatar) {\r\n        return fetch(`${this._options.baseUrl}/users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            credentials:'include',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: avatar,\r\n            }),\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    postCard(nameCard, linkCard) {\r\n        return fetch(`${this._options.baseUrl}/cards`, {\r\n            method: \"POST\",\r\n            credentials:'include',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                name: nameCard,\r\n                link: linkCard,\r\n            }),\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    changeLikeCardStatus(id, isLiked) {\r\n        const methodParametr = isLiked ? \"DELETE\" : \"PUT\";\r\n        return fetch(`${this._options.baseUrl}/cards/${id}/likes/`, {\r\n            method: methodParametr,\r\n            credentials:'include',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._options.baseUrl}/cards`, {\r\n            credentials:'include',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._options.baseUrl}/cards/${id}`, {\r\n            method: \"DELETE\",\r\n            credentials:'include',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    login(userEmail, userPassword) {\r\n        return fetch(`${this._options.authUrl}/signin`, {\r\n            method: \"POST\",\r\n            credentials:'include',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                password: userPassword,\r\n                email: userEmail,\r\n            }),\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    logout() {\r\n        return fetch(`${this._options.authUrl}/logout`, {\r\n            method: \"POST\",\r\n            credentials:'include',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    register(userEmail, userPassword) {\r\n        return fetch(`${this._options.authUrl}/signup`, {\r\n            method: \"POST\",\r\n            credentials:'include',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                password: userPassword,\r\n                email: userEmail,\r\n            }),\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n\r\n    checkToken() {\r\n        return fetch(`${this._options.authUrl}/users/me`, {\r\n            method: \"GET\",\r\n            credentials:'include',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }).then((res) => this._answerForServer(res));\r\n    }\r\n}\r\n\r\n// const apiOptions = {\r\n//     baseUrl: 'http://ravil377.nomoredomains.monster/',\r\n//     authUrl: \"http://ravil377.nomoredomains.monster/\"\r\n// };\r\n\r\nconst apiOptions = {\r\n    baseUrl: 'http://localhost:3000',\r\n    authUrl: \"http://localhost:3000\"\r\n};\r\n\r\n\r\nconst api = new Api(apiOptions);\r\n\r\nexport default api;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n    const handlePopupClose = (e) => {\r\n        if (e.target === e.currentTarget) props.onClose();\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const handleClosePopupOnEsc = (e) => {\r\n            if (e.code === \"Escape\") props.onClose();\r\n        }\r\n        if (props.isOpen) {\r\n            document.addEventListener('keyup', handleClosePopupOnEsc);\r\n        } \r\n        return () => {\r\n            document.removeEventListener('keyup', handleClosePopupOnEsc);\r\n        }\r\n    }, [props, props.isOpen]);\r\n\r\n    return (\r\n        <>\r\n            <div className={`popup popup_${props.name} ${props.isOpen && \"popup_opened\"}`} onClick={handlePopupClose}>\r\n                <div className=\"popup__container\">\r\n                    <button type=\"button\" className=\"popup__button-close\" onClick={props.onClose}></button>\r\n                    <h2 className=\"popup__container-title\">{props.title}</h2>\r\n                    <form name={props.name} className={`form ${props.name}`} onSubmit={props.onSubmit}>\r\n                        {props.children}\r\n                    <button type=\"submit\" \r\n                        className=\"popup__container-submit-button popup__container-submit-button_edit-button\">\r\n                        Сохранить\r\n                    </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const [name, setName] = React.useState();\r\n    const [about, setAbout] = React.useState();\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const handleChangeName = (e) => {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    const handleChangeDescription = (e) => {\r\n        setAbout(e.target.value);\r\n    }\r\n\r\n    function handleSubmitProfile(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser(name, about);\r\n    } \r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setAbout(currentUser.about);\r\n      }, [currentUser, props.isOpen]); \r\n\r\n    return (\r\n            <PopupWithForm name=\"edit-profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmitProfile}>\r\n        <>\r\n            <input type=\"text\" name=\"name\" \r\n                placeholder=\"Имя\" id=\"fio-input\" \r\n                className=\"popup__input popup__input_type_name\" \r\n                minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleChangeName} \r\n                required />\r\n            <span className=\"popup__input-error fio-input-error\"></span>\r\n            <input type=\"text\" name=\"about\" placeholder=\"О себе\" \r\n                id=\"info-input\" className=\"popup__input popup__input_type_info\" \r\n                minLength=\"2\" maxLength=\"200\" value={about || ''} onChange={handleChangeDescription}\r\n                required />\r\n            <span className=\"popup__input-error info-input-error\"></span>\r\n        </>\r\n    </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const [avatar, setAvatar] = React.useState('');\r\n\r\n    const handleSubmitAvatar = (e) => {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar(avatar);\r\n    };\r\n\r\n    const handleChangeAvatar = (e) => {\r\n        setAvatar(e.target.value);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setAvatar('');\r\n    }, [props.isOpen])\r\n\r\n    return (\r\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmitAvatar}>\r\n            <>\r\n                <input type=\"url\" name=\"avatar\" value={avatar} placeholder=\"Ссылка на картинку\"\r\n                onChange={handleChangeAvatar} \r\n                id=\"avatar-input\" className=\"popup__input popup__input_avatar\" required />\r\n                <span className=\"popup__input-error avatar-input-error\"></span>\r\n            </>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [nameCard, setNameCard] = React.useState('');\r\n    const [linkCard, setLinkCard] = React.useState('');\r\n\r\n    const handleSubmitPlaceAdd = (e) => {\r\n        e.preventDefault();\r\n        props.onAddPlace(nameCard, linkCard);\r\n    };\r\n\r\n    const handleChangeNameCard = (e) => {\r\n        setNameCard(e.target.value);\r\n    }\r\n\r\n    const handleChangeLinkCard = (e) => {\r\n        setLinkCard(e.target.value);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setNameCard('');\r\n        setLinkCard('');\r\n    }, [props.isOpen])\r\n\r\n    return (\r\n        <PopupWithForm name=\"add-card\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmitPlaceAdd}>\r\n            <>\r\n                <input type=\"text\" name=\"name\" placeholder=\"Название\" id=\"name-input\" \r\n                className=\"popup__input popup__input_name_card\" value={nameCard}\r\n                minLength=\"2\" maxLength=\"30\" onChange={handleChangeNameCard} required />\r\n                <span className=\"popup__input-error name-input-error\"></span>\r\n                <input type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" id=\"foto-input\" \r\n                className=\"popup__input popup__input_foto_card\" value={linkCard} onChange={handleChangeLinkCard} required />\r\n                <span className=\"popup__input-error foto-input-error\"></span>\r\n            </>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\n\r\nfunction PopupConfirmationDelete(props) {\r\n    const handlePopupClose = (e) => {\r\n        if (e.target === e.currentTarget) props.onClose();\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const handleClosePopupOnEsc = (e) => {\r\n            if (e.code === \"Escape\") props.onClose();\r\n        }\r\n        if (props.isOpen) {\r\n            document.addEventListener('keyup', handleClosePopupOnEsc);\r\n        } \r\n        return () => {\r\n            document.removeEventListener('keyup', handleClosePopupOnEsc);\r\n        }\r\n    }, [props, props.isOpen]);\r\n\r\n    return (\r\n        <div className={`popup popup_imageDelete ${props.isOpen && \"popup_opened\"}`} onClick={handlePopupClose}>\r\n            <div className=\"popup__container\">\r\n                <button type=\"button\" className=\"popup__button-close\" onClick={props.onClose}></button>\r\n                <h2 className=\"popup__container-title popup__container-title_mb\">Вы уверены?</h2>\r\n                <button type=\"button\" className=\"popup__container-submit-button popup__container-submit-button_delete-button\" onClick={props.onYes}>\r\n                    Да\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupConfirmationDelete;\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nfunction Register({ onRegister }) {\r\n    const [email, setEmail] = React.useState();\r\n    const [password, setPassword] = React.useState();\r\n\r\n    const handleRegisterUser = (e) => {\r\n        e.preventDefault();\r\n        onRegister(email, password);\r\n    };\r\n\r\n    const handleChangeEmail = (e) => setEmail(e.target.value);\r\n    const handleChangePassword = (e) => setPassword(e.target.value);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"auth\">\r\n                <h2 className=\"popup__container-title _white\">Регистрация</h2>\r\n                <form name=\"register\" className=\"form\" onSubmit={handleRegisterUser}>\r\n                    <input type=\"email\" name=\"email\" placeholder=\"Email\" id=\"Email-input\" value={email || \"\"} onChange={handleChangeEmail} className=\"popup__input _mp50 _black\" minLength=\"2\" maxLength=\"40\" required />\r\n                    <span className=\"popup__input-error fio-input-error\"></span>\r\n                    <input type=\"password\" name=\"password\" placeholder=\"Пароль\" id=\"password-input\" value={password || \"\"} onChange={handleChangePassword} className=\"popup__input _black\" minLength=\"2\" maxLength=\"200\" required />\r\n                    <span className=\"popup__input-error info-input-error\"></span>\r\n                    <button type=\"submit\" className=\"popup__container-submit-button _auth-button\">\r\n                        Зарегистрироваться\r\n                    </button>\r\n                </form>\r\n                <Link to=\"sign-in\" className=\"auth__link\">\r\n                    Уже зарегистрированы? Войти\r\n                </Link>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default withRouter(Register);\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction Login({ onLogin }) {\r\n    const [email, setEmail] = React.useState();\r\n    const [password, setPassword] = React.useState();\r\n\r\n    const handleLoginUser = (e) => {\r\n        e.preventDefault();\r\n        onLogin(email, password);\r\n    };\r\n\r\n    const handleChangeEmail = (e) => setEmail(e.target.value);\r\n    const handleChangePassword = (e) => setPassword(e.target.value);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"auth\">\r\n                <h2 className=\"popup__container-title _white\">Вход</h2>\r\n                <form name=\"login\" className=\"form\" onSubmit={handleLoginUser}>\r\n                    <input type=\"email\" name=\"email\" placeholder=\"Email\" id=\"Email-input\" value={email || \"\"} onChange={handleChangeEmail} className=\"popup__input _mp50 _black\" minLength=\"2\" maxLength=\"40\" required />\r\n                    <span className=\"popup__input-error fio-input-error\"></span>\r\n                    <input type=\"password\" name=\"password\" placeholder=\"Пароль\" id=\"password-input\" value={password || \"\"} onChange={handleChangePassword} className=\"popup__input _black\" minLength=\"2\" maxLength=\"200\" required />\r\n                    <span className=\"popup__input-error info-input-error\"></span>\r\n                    <button type=\"submit\" className=\"popup__container-submit-button _auth-button\">\r\n                        Войти\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default withRouter(Login);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return <Route>{() => (props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-up\" />)}</Route>;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from \"react\";\r\nimport success from \"./../images/success.svg\";\r\nimport error from \"./../images/error.svg\";\r\n\r\nfunction InfoTooltip(props) {\r\n    const handlePopupClose = (e) => {\r\n        if (e.target === e.currentTarget) props.onClose();\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        const handleClosePopupOnEsc = (e) => {\r\n            if (e.code === \"Escape\") props.onClose();\r\n        };\r\n\r\n        if (props.isOpen) {\r\n            document.addEventListener(\"keyup\", handleClosePopupOnEsc);\r\n        }\r\n\r\n        return () => {\r\n            document.removeEventListener(\"keyup\", handleClosePopupOnEsc);\r\n        };\r\n    }, [props, props.isOpen]);\r\n\r\n    return (\r\n        <>\r\n            <div className={`popup ${props.isOpen && \"popup_opened\"}`} onClick={handlePopupClose}>\r\n                <div className=\"popup__container popup__container_tooltip\">\r\n                    <button type=\"button\" className=\"popup__button-close\" onClick={props.onClose}></button>\r\n                    <img src={props.isSuccess ? success : error} alt=\"Картинка\" className=\"popup__container-image\"></img>\r\n                    <h2 className=\"popup__container-title popup__container-title_mb-reset\">{props.isSuccess ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте еще раз.\"}</h2>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from \"react\";\nimport { Route, Switch, Redirect, useHistory, withRouter } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport PopupConfirmationDelete from \"./PopupConfirmationDelete\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\n\nfunction App() {\n    const [loggedIn, setLoggedIn] = React.useState(false);\n    const [isConfirmationDelete, setIsConfirmationDelete] = React.useState(false);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [isMessagePopupOpen, setIsMessagePopupOpen] = React.useState(false);\n    const [isSuccess, setIsSuccess] = React.useState(false);\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [selectedCard, setSelectedCard] = React.useState();\n    const [selectedCardForDelete, setSelectedCardForDelete] = React.useState([]);\n    const [cards, setCards] = React.useState([]);\n    const [isEmail, setIsEmail] = React.useState(null);\n    const history = useHistory();\n\n    React.useEffect(() => {\n        api.checkToken()\n            .then((res) => {\n                setIsEmail(res.email);\n                setLoggedIn(true);\n                history.push(\"/main\");\n            })\n            .catch((err) => console.log(err));\n    }, [history]);\n\n    React.useEffect(() => {\n        api.getProfileInfo()\n            .then((res) => setCurrentUser(res))\n            .catch((err) => console.log(err));\n    }, []);\n\n    React.useEffect(() => {\n        api.getInitialCards()\n            .then((res) => {\n                setCards(res);\n            })\n            .catch((err) => console.log(err));\n    }, []);\n\n    const handleDeleteCard = () => {\n        api.deleteCard(selectedCardForDelete._id)\n            .then((res) => {\n                setCards(() => cards.filter((card) => card._id !== selectedCardForDelete._id));\n                setIsConfirmationDelete(false);\n            })\n            .catch((err) => console.log(err));\n    };\n\n    const handleDeleteClick = (card) => {\n        setSelectedCardForDelete(card);\n        setIsConfirmationDelete(true);\n    };\n\n    const handleCardLike = (props) => {\n        const isLiked = props.likes.some((i) => i === currentUser._id);\n        api.changeLikeCardStatus(props._id, isLiked)\n            .then((newCard) => {\n                setCards((state) => state.map((card) => (card._id === props._id ? newCard : card)));\n            })\n            .catch((err) => console.log(err));\n    };\n\n    const handleEditProfileClick = () => {\n        setIsEditProfilePopupOpen((state) => !state);\n    };\n\n    const handleAddPlaceClick = () => {\n        setIsAddPlacePopupOpen((state) => !state);\n    };\n\n    const handleEditAvatarClick = () => {\n        setIsEditAvatarPopupOpen((state) => !state);\n    };\n\n    const handleCardClick = (elem) => setSelectedCard(elem);\n\n    const closeAllPopups = () => {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setIsConfirmationDelete(false);\n        setSelectedCard(null);\n        setSelectedCardForDelete(null);\n        setIsMessagePopupOpen(false);\n    };\n\n    const handleUpdateUser = (name, about) => {\n        api.postProfileInfo(name, about)\n            .then((res) => {\n                setCurrentUser(res);\n                setIsEditProfilePopupOpen(false);\n            })\n            .catch((err) => console.log(err));\n    };\n\n    const handleRegisterUser = (email, password) => {\n        api.register(email, password)\n            .then((res) => {\n                if (res) {\n                    history.push(\"/sign-in\");\n                    setIsSuccess(true);\n                    setIsMessagePopupOpen(true);\n                } else {\n                    setIsSuccess(false);\n                    setIsMessagePopupOpen(true);\n                }\n            })\n            .catch((err) => {\n                setIsSuccess(false);\n                setIsMessagePopupOpen(true);\n            });\n    };\n\n    const handleClickExit = () => {\n        api.logout()\n            .then((res) => {\n                setIsEmail(null);\n                setLoggedIn(false);\n                history.push(\"/sign-in\");\n            })\n            .catch((err) => console.log(err));\n    };\n\n    const handleLoginUser = (email, password) => {\n        api.login(email, password)\n            .then((res) => {\n                if (res.message === \"Пользователь залогинен\") {\n                    setLoggedIn(true);\n                    history.push(\"/main\");\n                    setIsEmail(res.email);\n                }\n            })\n            .catch((err) => {\n                setIsSuccess(false);\n                setIsMessagePopupOpen(true);\n            });\n    };\n\n    const handleUpdateAvatar = (avatar) => {\n        api.postProfileAvatar(avatar)\n            .then((res) => {\n                setCurrentUser(res);\n                setIsEditAvatarPopupOpen(false);\n            })\n            .catch((err) => console.log(err));\n    };\n\n    const handleAddPlaceSubmit = (nameCard, linkCard) => {\n        api.postCard(nameCard, linkCard)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                setIsAddPlacePopupOpen(false);\n            })\n            .catch((err) => console.log(err));\n    };\n\n    return (\n        <>\n            <CurrentUserContext.Provider value={currentUser}>\n                <div className=\"page\">\n                    <Header isLoggedIn={loggedIn} isEmail={isEmail} onExit={handleClickExit} />\n                    <Switch>\n                        <ProtectedRoute\n                            path=\"/main\"\n                            loggedIn={loggedIn}\n                            component={Main}\n                            onEditAvatar={handleEditAvatarClick}\n                            onAddPlace={handleAddPlaceClick}\n                            onEditProfile={handleEditProfileClick}\n                            onCardClick={handleCardClick}\n                            cards={cards}\n                            onCardLike={handleCardLike}\n                            onCardDelete={handleDeleteClick}\n                        />\n                        <Route path=\"/sign-up\">\n                            <Register onRegister={handleRegisterUser} />\n                        </Route>\n\n                        <Route path=\"/sign-in\">\n                            <Login onLogin={handleLoginUser} />\n                        </Route>\n\n                        <Route exact path=\"/\">\n                            {loggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/sign-up\" />}\n                        </Route>\n                    </Switch>\n\n                    <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n                    <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n                    <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n                    <PopupConfirmationDelete isOpen={isConfirmationDelete} onClose={closeAllPopups} onYes={handleDeleteCard} />\n                    <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n                    <InfoTooltip onClose={closeAllPopups} isOpen={isMessagePopupOpen} isSuccess={isSuccess} />\n                    <Footer />\n                </div>\n            </CurrentUserContext.Provider>\n        </>\n    );\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}